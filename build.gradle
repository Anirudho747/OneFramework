group 'Automation'
apply plugin: 'application'
version '1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'io.appium', name: 'java-client', version: '6.1.0'
    testCompile group: 'info.cukes', name: 'cucumber-java', version: '1.2.5'
    testCompile group: 'info.cukes', name: 'cucumber-junit', version: '1.2.5'
}
test {
    testLogging {
        showStandardStreams = true;
    }

    if (platform.equals("web") && (browser.equals("chrome") || browser.equals("firefox"))) {
        systemProperty("platform", "web");
        systemProperty("browser", browser);
        systemProperty "cucumber.options", "--tags @web --tags ~@ignore";
    } else if (platform.equals("android")) {
        systemProperty("platform", "android");
        systemProperty "cucumber.options", "--tags @android --tags ~@ignore"
    } else if (platform.equals("ios")) {
        systemProperty("platform", "ios");
        systemProperty "cucumber.options", "--tags @ios --tags ~@ignore"
    } else {
        println('Did not receive correct platform');
    }
}
